<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Resume Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <h1>Resume Builder</h1>
    <button id="export" class="primary-btn">Download PDF</button>
  </header>

  <!-- Main Layout -->
  <main class="container">
    <!-- Left: Structured Editor -->
    <section class="editor">
      <h2>Resume Details</h2>
      <p class="hint">Fill in your details. The preview will update live as you type.</p>

      <!-- Personal Info -->
      <div class="section-card">
        <button class="section-header" type="button">
          <span>Personal Information</span>
          <span class="section-toggle">▼</span>
        </button>
        <div class="section-body">
          <div class="field-grid">
            <div class="field">
              <label for="fullName">Full Name</label>
              <input id="fullName" type="text" placeholder="John Doe" />
            </div>
            <div class="field">
              <label for="title">Title</label>
              <input id="title" type="text" placeholder="Software Engineer" />
            </div>
          </div>
          <div class="field-grid">
            <div class="field">
              <label for="email">Email</label>
              <input id="email" type="email" placeholder="you@example.com" />
            </div>
            <div class="field">
              <label for="phone">Phone</label>
              <input id="phone" type="text" placeholder="+91 99999 99999" />
            </div>
          </div>
          <div class="field">
            <label for="location">Location</label>
            <input id="location" type="text" placeholder="Chennai, India" />
          </div>
          <div class="field">
            <label for="summary">Professional Summary</label>
            <textarea id="summary" rows="3" placeholder="2–3 lines about your experience and strengths."></textarea>
          </div>
        </div>
      </div>

      <!-- Work Experience -->
      <div class="section-card">
        <button class="section-header" type="button">
          <span>Work Experience</span>
          <span class="section-toggle">▼</span>
        </button>
        <div class="section-body" id="work-section">
          <div class="repeatable-list" id="work-items"></div>
          <button class="secondary-btn add-btn" type="button" data-section="work">
            + Add Work Experience
          </button>
        </div>
      </div>

      <!-- Education -->
      <div class="section-card">
        <button class="section-header" type="button">
          <span>Education</span>
          <span class="section-toggle">▼</span>
        </button>
        <div class="section-body" id="education-section">
          <div class="repeatable-list" id="education-items"></div>
          <button class="secondary-btn add-btn" type="button" data-section="education">
            + Add Education
          </button>
        </div>
      </div>

      <!-- Projects -->
      <div class="section-card">
        <button class="section-header" type="button">
          <span>Projects</span>
          <span class="section-toggle">▼</span>
        </button>
        <div class="section-body" id="projects-section">
          <div class="repeatable-list" id="project-items"></div>
          <button class="secondary-btn add-btn" type="button" data-section="projects">
            + Add Project
          </button>
        </div>
      </div>

      <!-- Skills -->
      <div class="section-card">
        <button class="section-header" type="button">
          <span>Skills</span>
          <span class="section-toggle">▼</span>
        </button>
        <div class="section-body">
          <div class="field">
            <label for="skills">Skills (comma separated)</label>
            <input id="skills" type="text" placeholder="JavaScript, React, Typst, ..." />
          </div>
        </div>
      </div>
    </section>

    <!-- Right: Live Preview -->
    <section class="preview">
      <h2>Live Preview</h2>
      <p class="hint">Your Typst-based resume renders here as you type.</p>
      <div id="content" class="preview-box">
        <!-- SVG or fallback HTML will be injected here -->
      </div>
    </section>
  </main>

  <footer>
    Built with Typst &middot; Live updating resume builder
  </footer>

  <!-- Typst bundle -->
  <script id="typst" src="https://cdn.jsdelivr.net/npm/@myriaddreamin/typst-ts-web-compiler@0.4.0/dist/all-in-one-lite.bundle.js"></script>
  <script src="screept.js"></script>
</body>
</html>
